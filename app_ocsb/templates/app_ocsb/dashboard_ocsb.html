{% extends 'app_base/base.html' %} {% load static %}

<!-- Block page_header -->
{% block stylesheet %} {% endblock stylesheet %}

<!-- Block page_header -->
{% block page_header %}DashBoard (สอน.){% endblock page_header %}

<!-- Block page_header -->
{% block main_content %}
<section class="content">
  <div class="container-fluid">
    <!-- Info boxes -->
    <div class="row">
      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box">
          <span class="info-box-icon bg-info elevation-1"><i class="fas fa-cog"></i></span>
          <div class="info-box-content">
            <span class="info-box-text">น้ำเชื่อม Syrub</span>
            <span class="info-box-number">40,000 (ตัน)</span>
          </div>
          <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
      </div>
      <!-- /.col -->
      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box mb-3">
          <span class="info-box-icon bg-danger elevation-1"><i class="fas fa-thumbs-up"></i></span>

          <div class="info-box-content">
            <span class="info-box-text">น้ำเชื่อม B-molasses</span>
            <span class="info-box-number">20,000 (ตัน)</span>
          </div>
          <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
      </div>
      <!-- /.col -->
      <!-- fix for small devices only -->
      <div class="clearfix hidden-md-up"></div>
      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box mb-3">
          <span class="info-box-icon bg-success elevation-1"><i class="fas fa-shopping-cart"></i></span>
          <div class="info-box-content">
            <span class="info-box-text">น้ำเชื่อม C-molasses</span>
            <span class="info-box-number">10,000 (ตัน)</span>
          </div>
          <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
      </div>
      <!-- /.col -->
      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box mb-3">
          <span class="info-box-icon bg-warning elevation-1"><i class="fas fa-users"></i></span>
          <div class="info-box-content">
            <span class="info-box-text">รวมทั้งหมด</span>
            <span class="info-box-number">70,000 (ตัน)</span>
          </div>
          <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
      </div>
      <!-- /.col -->
    </div>
    <!-- /.row -->
    <!-- graph boxes -->
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header">
            <h5 class="card-title">Monthly Recap Report</h5>
            <div class="card-tools">
              <button type="button" class="btn btn-tool" data-card-widget="collapse">
                <i class="fas fa-minus"></i>
              </button>
              <div class="btn-group">
                <button type="button" class="btn btn-tool dropdown-toggle" data-toggle="dropdown">
                  <i class="fas fa-wrench"></i>
                </button>
                <div class="dropdown-menu dropdown-menu-right" role="menu">
                  <a href="#" class="dropdown-item">Action</a>
                  <a href="#" class="dropdown-item">Another action</a>
                  <a href="#" class="dropdown-item">Something else here</a>
                  <a class="dropdown-divider"></a>
                  <a href="#" class="dropdown-item">Separated link</a>
                </div>
              </div>
              <button type="button" class="btn btn-tool" data-card-widget="remove">
                <i class="fas fa-times"></i>
              </button>
            </div>
          </div>
          <!-- /.card-header -->
          <div class="card-body">
            <div class="row">
              <div class="col-md-8">
                <p class="text-center">
                  <strong>ข้อมูล: 1 Jan, 2022 - 30 Jul, 2022</strong>
                </p>

                <div class="chart">
                  <div class="chartjs-size-monitor">
                    <div class="chartjs-size-monitor-expand"><div class=""></div></div>
                    <div class="chartjs-size-monitor-shrink"><div class=""></div></div>
                  </div>
                  <!-- Sales Chart Canvas -->
                  <canvas id="salesChart" height="180" style="height: 180px; display: block; width: 632px" width="632" class="chartjs-render-monitor"></canvas>
                </div>
                <!-- /.chart-responsive -->
              </div>
              <!-- /.col -->
              <div class="col-md-4">
                <p class="text-center">
                  <strong>เป้าหมายการใช้น้ำเชื่อมฯ</strong>
                </p>

                <div class="progress-group">
                  Syrub
                  <span class="float-right"><b>80,000</b>/200,000</span>
                  <div class="progress progress-sm">
                    <div class="progress-bar bg-primary" style="width: 80%"></div>
                  </div>
                </div>
                <!-- /.progress-group -->

                <div class="progress-group">
                  B-molasses
                  <span class="float-right"><b>100,000</b>/200,000</span>
                  <div class="progress progress-sm">
                    <div class="progress-bar bg-danger" style="width: 75%"></div>
                  </div>
                </div>

                <!-- /.progress-group -->
                <div class="progress-group">
                  <span class="progress-text">C-molasses</span>
                  <span class="float-right"><b>50,000</b>/200,000</span>
                  <div class="progress progress-sm">
                    <div class="progress-bar bg-success" style="width: 60%"></div>
                  </div>
                </div>

                <!-- /.progress-group -->
                <div class="progress-group">
                  รวมทั้งหมด
                  <span class="float-right"><b>230,000</b>/600,000</span>
                  <div class="progress progress-sm">
                    <div class="progress-bar bg-warning" style="width: 50%"></div>
                  </div>
                </div>
                <!-- /.progress-group -->
              </div>
              <!-- /.col -->
            </div>
            <!-- /.row -->
          </div>
          <!-- ./card-body -->
          <div class="card-footer">
            <div class="row">
              <div class="col-sm-3 col-6">
                <div class="description-block border-right">
                  <span class="description-percentage text-success"><i class="fas fa-caret-up"></i> 17%</span>
                  <h5 class="description-header">120,000 (ตัน)</h5>
                  <span class="description-text">คงเหลือ Syrup</span>
                </div>
                <!-- /.description-block -->
              </div>
              <!-- /.col -->
              <div class="col-sm-3 col-6">
                <div class="description-block border-right">
                  <span class="description-percentage text-warning"><i class="fas fa-caret-left"></i> 0%</span>
                  <h5 class="description-header">100,000 (ตัน)</h5>
                  <span class="description-text">คงเหลือ B-molasses</span>
                </div>
                <!-- /.description-block -->
              </div>
              <!-- /.col -->
              <div class="col-sm-3 col-6">
                <div class="description-block border-right">
                  <span class="description-percentage text-success"><i class="fas fa-caret-up"></i> 20%</span>
                  <h5 class="description-header">150,000 (ตัน)</h5>
                  <span class="description-text">คงเหลือ B-molasses</span>
                </div>
                <!-- /.description-block -->
              </div>
              <!-- /.col -->
              <div class="col-sm-3 col-6">
                <div class="description-block">
                  <span class="description-percentage text-danger"><i class="fas fa-caret-down"></i> 18%</span>
                  <h5 class="description-header">370,000 (ตัน)</h5>
                  <span class="description-text">คงเหลือรวม</span>
                </div>
                <!-- /.description-block -->
              </div>
            </div>
            <!-- /.row -->
          </div>
          <!-- /.card-footer -->
        </div>
        <!-- /.card -->
      </div>
      <!-- /.col -->
    </div>
    <!-- Main row (Table List) -->
    <div class="row">
      <!-- Left Table -->
      <section class="col-lg-7 connectedSortable ui-sortable">
        <div class="card">
          <div class="card-header border-0">
            <h3 class="card-title">บันทึกการใช้น้ำเชื่อมฯ ล่าสุด</h3>
            <div class="card-tools">
              <a href="#" class="btn btn-tool btn-sm">
                <i class="fas fa-download"></i>
              </a>
              <a href="#" class="btn btn-tool btn-sm">
                <i class="fas fa-bars"></i>
              </a>
            </div>
          </div>
          <div class="card-body table-responsive p-0">
            <table class="table table-striped table-valign-middle">
              <thead>
                <tr>
                  <th>วันที่รายงาน</th>
                  <th>โรงงานรับซื้อ</th>
                  <th>ชนิดน้ำเชื่อม</th>
                  <th>น้ำหนัก (ตัน)</th>
                  <th>Link</th>
                </tr>
              </thead>
              <tbody>
                {% for usage_record in queryset_usage %}
                <tr>
                  <td>{{ usage_record.date_report }}</td>
                  <td>{{ usage_record.purchaser }}</td>
                  <td>{{ usage_record.get_syrup_type_display }}</td>
                  <td>{{ usage_record.syrup_weight }}</td>
                  <td>
                    <a href="{% url 'usage-detail' usage_record.id %}" target="_blank" class="text-muted">
                      <i class="fas fa-search"></i>
                    </a>
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </section>
      <!-- Right Table -->
      <section class="col-lg-5 connectedSortable ui-sortable">
        <!-- โรงงานผลิตเอทานอล -->
        <div class="row">
          <div class="col-12">
            <div class="card">
              <div class="card-header border-0">
                <h3 class="card-title">โรงงานผลิตเอทานอล</h3>
                <div class="card-tools">
                  <a href="#" class="btn btn-tool btn-sm">
                    <i class="fas fa-download"></i>
                  </a>
                  <a href="#" class="btn btn-tool btn-sm">
                    <i class="fas fa-bars"></i>
                  </a>
                </div>
              </div>
              <div class="card-body table-responsive p-0">
                <table class="table table-striped table-valign-middle">
                  <thead>
                    <tr>
                      <th>ชื่อโรงงาน</th>
                      <th>น้ำหนักรวม (ตัน)</th>
                      <th>More</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for sum_usage in queryset_sum_usage %}
                    <tr>
                      <td>{{ sum_usage.purchaser__name }}</td>
                      <td>{{ sum_usage.syrup_weight__sum }}</td>
                      <td>
                        <a href="#" class="text-muted">
                          <i class="fas fa-search"></i>
                        </a>
                      </td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <!-- /โรงงานผลิตเอทานอล -->
        <!-- โรงงานผลิตน้ำตาล -->
        <div class="row">
          <div class="col-12">
            <div class="card">
              <div class="card-header border-0">
                <h3 class="card-title">โรงงานผลิตน้ำตาล</h3>
                <div class="card-tools">
                  <a href="#" class="btn btn-tool btn-sm">
                    <i class="fas fa-download"></i>
                  </a>
                  <a href="#" class="btn btn-tool btn-sm">
                    <i class="fas fa-bars"></i>
                  </a>
                </div>
              </div>
              <div class="card-body table-responsive p-0">
                <table class="table table-striped table-valign-middle">
                  <thead>
                    <tr>
                      <th>ชื่อโรงงาน</th>
                      <th>น้ำหนักรวม (ตัน)</th>
                      <th>More</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for sum_ent in queryset_sum_enterprise %}
                    <tr>
                      <td>{{ sum_ent.enterprise__name }}</td>
                      <td>{{ sum_ent.syrup_weight__sum }}</td>
                      <td>
                        <a href="#" class="text-muted">
                          <i class="fas fa-search"></i>
                        </a>
                      </td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <!-- /โรงงานผลิตน้ำตาล -->
      </section>
    </div>
  </div>
</section>
{% endblock main_content %}

<!-- Block scripts -->
{% block scripts %}
<!-- ChartJS -->
<script src="{% static 'app_base/adminlte/plugins/chart.js/Chart.min.js' %}"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="{% static 'app_base/adminlte/dist/js/pages/dashboard2.js' %}"></script>
{% endblock scripts %}
